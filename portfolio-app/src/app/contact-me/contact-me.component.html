<div class="contact-section">
  <div class="vertical-title">Contact me</div>

  <div class="contact-container">
    <div class="contact-form-area">

      <!-- Wichtig: (ngModelChange)="onFormChange(myForm)" für Live-Validation -->
      <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm)" (ngModelChange)="onFormChange(myForm)">
        <div class="contact-form">

          <div class="input-box name-field">
            <span
              class="placeholder"
              [class.placeholder-hidden]="(contactData.name || '').length > 0"
            >
              {{ text[activeLang].placeholderName }}
            </span>
            <input
              type="text"
              name="name"
              required
              [(ngModel)]="contactData.name"
            />
            <div
              class="error-text"
              *ngIf="
                myForm.controls['name']?.invalid &&
                (myForm.controls['name']?.dirty || myForm.submitted)
              "
            >
              {{ text[activeLang].errorName }}
            </div>
          </div>

          <div class="input-box email-field">
            <span
              class="placeholder"
              [class.placeholder-hidden]="(contactData.email || '').length > 0"
            >
              {{ text[activeLang].placeholderEmail }}
            </span>
            <input
              type="email"
              name="email"
              required
              [pattern]="emailPattern"
              [(ngModel)]="contactData.email"
              autocomplete="email"
            />
            <div
              class="error-text"
              *ngIf="
                myForm.controls['email']?.invalid &&
                (myForm.controls['email']?.dirty || myForm.submitted)
              "
            >
              {{ text[activeLang].errorEmail }}
            </div>
          </div>

          <div class="input-box message-field">
            <span
              class="placeholder"
              [class.placeholder-hidden]="(contactData.message || '').length > 0"
            >
              {{ text[activeLang].placeholderMessage }}
            </span>
            <textarea
              name="message"
              required
              [(ngModel)]="contactData.message"
              rows="1"
            ></textarea>
            <div
              class="error-text"
              *ngIf="
                myForm.controls['message']?.invalid &&
                (myForm.controls['message']?.dirty || myForm.submitted)
              "
            >
              {{ text[activeLang].errorMessage }}
            </div>
          </div>

          <div class="privacy-area">
            <input
              type="checkbox"
              id="privacy-check"
              name="privacy"
              required
              [(ngModel)]="contactData.privacy"
            />
            <label for="privacy-check">
              {{ text[activeLang].privacyLabelPart1 }}
              <span
                routerLink="/privacy"
                class="privacy-policy-link"
              >
                {{ text[activeLang].privacyLabelPart2 }}
              </span>
              {{ text[activeLang].privacyLabelPart3 }}
            </label>
            <div
              class="error-text"
              *ngIf="
                myForm.controls['privacy']?.invalid &&
                (myForm.controls['privacy']?.dirty || myForm.submitted)
              "
            >
              {{ text[activeLang].errorPrivacy }}
            </div>
          </div>

          <button class="send-button" type="submit">
            {{ text[activeLang].btnSend }}
          </button>
        </div>
      </form>

      <!-- Feedback -->
      <div class="feedback" *ngIf="feedbackMessage">
        <p [ngClass]="{'error': feedbackError, 'success': !feedbackError}">
          {{ feedbackMessage }}
        </p>
      </div>

      <!-- Pfeil: nach oben -->
      <div class="arrow-up" (click)="scrollToTop()">
        <svg
          width="16"
          height="46"
          viewBox="0 0 16 46"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.7071 0.292892C8.31658 -0.0976296 7.68341 -0.0976295 7.29289 0.292892L0.92893 6.65685C0.538406 7.04738 0.538406 7.68054 0.92893 8.07107C1.31945 8.46159 1.95262 8.46159 2.34314 8.07107L8 2.41422L13.6569 8.07107C14.0474 8.46159 14.6805 8.46159 15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685L8.7071 0.292892ZM9 46L9 1L7 1L7 46L9 46Z"
            fill="#B5E93B"
          />
        </svg>
      </div>

      <div class="social-media-placeholder">
        <div class="social-icons">
          <!-- Social Icons -->
        </div>
      </div>
    </div>

    <div class="contact-details-area">
      <div class="intro-text">
        <h3>{{ text[activeLang].introTitle }}</h3>
        <p>{{ text[activeLang].introText }}</p>

        <div class="contact-data">
          <p>
            <span class="icon">
              <!-- Icon -->
            </span>
            {{ text[activeLang].labelEmail }}
            <a href="mailto:coding&#64;leorullani.com">coding&#64;leorullani.com</a>
          </p>
          <p>
            <span class="icon">
              <!-- Icon -->
            </span>
            {{ text[activeLang].labelPhone }}
            <a href="tel:+41764885610">+41 76 488 56 10</a>
          </p>
        </div>
      </div>

      <!-- Pfeil: zurückscrollen -->
      <div class="arrow-left" (click)="scrollPrev()">
        <svg
          width="113"
          height="38"
          viewBox="0 0 113 38"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M3 16.5C1.61929 16.5 0.5 17.6193 0.5 19C0.5 20.3807 1.61929 21.5 3 21.5L3 16.5ZM111.768 20.7678C112.744 19.7914 112.744 18.2085 111.768 17.2322L95.8579 1.32232C94.8816 0.346012 93.2986 0.346012 92.3223 1.32232C91.346 2.29863 91.346 3.88155 92.3223 4.85786L106.464 19L92.3223 33.1421C91.346 34.1184 91.346 35.7014 92.3223 36.6777C93.2986 37.654 94.8816 37.654 95.8579 36.6777L111.768 20.7678ZM3 21.5L110 21.5L110 16.5L3 16.5L3 21.5Z"
            fill="#B5E93B"
          />
        </svg>
      </div>

      <div class="footer-info">
        <img
          class="footer-logo"
          src="/assets/img/profil.png"
          alt="Profile Logo"
        />
        <div class="footer-links">
          <a routerLink="/legal" class="legal-notice-link">Legal notice</a>
          <a routerLink="/privacy" class="privacy-policy-link">Privacy policy</a>
        </div>
        <div class="copyright">
          © Leo Rullani 2025
        </div>
      </div>
    </div>
  </div>

  <div class="right-gradient"></div>
</div>
